(this.webpackJsonpxrdertoy=this.webpackJsonpxrdertoy||[]).push([[0],{12:function(e,t,r){e.exports={Preview:"Preview_Preview__3QH63",image:"Preview_image__1kjCe",isImageError:"Preview_isImageError__3zwiq",overlay:"Preview_overlay__1iwnL",info:"Preview_info__26VNe",spinner:"Preview_spinner__3QBcR",isLoading:"Preview_isLoading__3EEbd",contentWrapper:"Preview_contentWrapper__wKA5t",action:"Preview_action__1XZTO",isError:"Preview_isError__sI2RP",message:"Preview_message__IY1MK"}},16:function(e,t,r){e.exports={Viewer:"Viewer_Viewer__11y3P",main:"Viewer_main__1xuls",info:"Viewer_info__3Rdot",side:"Viewer_side__2sQW7",header:"Viewer_header__nqzCV",hasTitle:"Viewer_hasTitle__qiUa4",commaList:"Viewer_commaList__2meVF"}},22:function(e,t,r){e.exports={App:"App_App__16yPc",header:"App_header__1-vA7",footer:"App_footer__253NV",main:"App_main__3z6Ng"}},26:function(e,t,r){e.exports={BigIcon:"BigIcon_BigIcon__1iuMW",isSmall:"BigIcon_isSmall__1Xlk2",icon:"BigIcon_icon__2lDyG"}},30:function(e,t,r){"use strict";r.r(t),r.d(t,"APP_KEY",(function(){return n}));var n="NdrK4M"},35:function(e,t,r){e.exports={GlobalSpinner:"GlobalSpinner_GlobalSpinner__3yyM1",isHidden:"GlobalSpinner_isHidden__3cnHY"}},4:function(e,t,r){e.exports={Browser:"Browser_Browser__27H8R",filters:"Browser_filters__1npeZ",filter:"Browser_filter__1Zb84",checked:"Browser_checked__3es_b",listWrapper:"Browser_listWrapper__2X0Hi",resultList:"Browser_resultList__25pZ_",text:"Browser_text__2qyvE",sort:"Browser_sort__3xhhS",checks:"Browser_checks__VhKrC",pagination:"Browser_pagination__3MUUt",item:"Browser_item__3ML8F",inside:"Browser_inside__L8SeH"}},46:function(e,t,r){e.exports={by:"BrowserItem_by__1Pr1d"}},47:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return f}));var n=r(37),i=r.n(n),a=r(48),c=r(6),o=r(0),s=o.useState,l=o.useEffect,u=o.useRef,d=o.useCallback,h=navigator.xr,f=function(t){var r=s(null),n=Object(c.a)(r,2),o=n[0],f=n[1];l((function(){h&&h.isSessionSupported("immersive-vr").then(f)}),[]);var m=u(null),b=s(!1),p=Object(c.a)(b,2),j=p[0],v=p[1],g=s(!1),O=Object(c.a)(g,2),x=O[0],_=O[1],E=d((function(){m.current&&m.current.end(),m.current=null,v(!1),_(!1)}),[]),w=d((function(){t&&(v(!0),Object(a.a)(i.a.mark((function r(){var n,a,c,o,s,l;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.requestSession("immersive-vr",{requiredFeatures:["local-floor"]});case 2:return m.current=r.sent,n=function(){E()},m.current.addEventListener("end",n),a=document.createElement("canvas"),c=a.getContext("webgl2",{xrCompatible:!0}),o=t(c),m.current.updateRenderState({baseLayer:new e.XRWebGLLayer(m.current,c)}),r.next=11,m.current.requestReferenceSpace("local");case 11:s=r.sent,v(!1),_(!0),l=function e(t,r){o(t,r,s),r.session.requestAnimationFrame(e)},m.current.requestAnimationFrame(l);case 16:case"end":return r.stop()}}),r)})))())}),[E,t]);return l((function(){return function(){E()}}),[E,t]),{isAvailable:!!h,isSupported:o,isStarting:j,isRunning:x,start:w,stop:E}}}).call(this,r(41))},49:function(e,t,r){e.exports={ViewerButton:"ViewerButton_ViewerButton__Nme8I"}},50:function(e,t,r){e.exports={BBCode:"BBCode_BBCode__3idYZ"}},78:function(e,t,r){},82:function(e,t,r){"use strict";r.r(t);var n=r(1),i=r(0),a=r.n(i),c=r(23),o=r.n(c),s=r(20),l=r(5),u=r(3),d=r(14),h=(r(78),r(7)),f="/",m="/view/:id",b="https://www.shadertoy.com/media/shaders/:id.jpg",p=r(8),j=r(6),v=r(9),g=r.n(v),O=r(20).usePaginatedQuery,x=r(30).APP_KEY,_=r(30),E=function(e){return Object(s.useQuery)(["shader",e],(function(){var t=new AbortController,r=t.signal,n=fetch("https://www.shadertoy.com/api/v1/shaders/".concat(e,"&key=").concat(_.APP_KEY),{signal:r}).then((function(e){return e.json()}));return n.cancel=function(){return t.abort()},n}),{refetchOnWindowFocus:!1,keepPreviousData:!0})},w=r(12),y=r.n(w);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var P=i.createElement("g",{stroke:"none"},i.createElement("path",{d:"M234.667,170.667c-35.307,0-64,28.693-64,64s28.693,64,64,64s64-28.693,64-64S269.973,170.667,234.667,170.667z"}),i.createElement("path",{d:"M234.667,74.667C128,74.667,36.907,141.013,0,234.667c36.907,93.653,128,160,234.667,160 c106.773,0,197.76-66.347,234.667-160C432.427,141.013,341.44,74.667,234.667,74.667z M234.667,341.333 c-58.88,0-106.667-47.787-106.667-106.667S175.787,128,234.667,128s106.667,47.787,106.667,106.667 S293.547,341.333,234.667,341.333z"}));function S(e,t){var r=e.title,n=e.titleId,a=R(e,["title","titleId"]);return i.createElement("svg",T({x:"0px",y:"0px",viewBox:"0 0 469.333 469.333",ref:t,"aria-labelledby":n},a),r?i.createElement("title",{id:n},r):null,P)}var C=i.forwardRef(S);r.p;function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var N=i.createElement("g",{stroke:"none"},i.createElement("path",{d:"M376,30c-27.783,0-53.255,8.804-75.707,26.168c-21.525,16.647-35.856,37.85-44.293,53.268 c-8.437-15.419-22.768-36.621-44.293-53.268C189.255,38.804,163.783,30,136,30C58.468,30,0,93.417,0,177.514 c0,90.854,72.943,153.015,183.369,247.118c18.752,15.981,40.007,34.095,62.099,53.414C248.38,480.596,252.12,482,256,482 s7.62-1.404,10.532-3.953c22.094-19.322,43.348-37.435,62.111-53.425C439.057,330.529,512,268.368,512,177.514 C512,93.417,453.532,30,376,30z"}));function U(e,t){var r=e.title,n=e.titleId,a=I(e,["title","titleId"]);return i.createElement("svg",A({x:"0px",y:"0px",viewBox:"0 0 512 512",ref:t,"aria-labelledby":n},a),r?i.createElement("title",{id:n},r):null,N)}var B=i.forwardRef(U);r.p;function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var M=i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("g",{transform:"translate(1 1)",strokeWidth:2},i.createElement("circle",{strokeOpacity:.5,cx:18,cy:18,r:18}),i.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},i.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))));function F(e,t){var r=e.title,n=e.titleId,a=L(e,["title","titleId"]);return i.createElement("svg",k({width:38,height:38,viewBox:"0 0 38 38",ref:t,"aria-labelledby":n},a),r?i.createElement("title",{id:n},r):null,M)}var D=i.forwardRef(F);r.p;function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var X=i.createElement("g",{stroke:"none"},i.createElement("path",{d:"M256,0C114.833,0,0,114.844,0,256s114.833,256,256,256s256-114.844,256-256S397.167,0,256,0z M357.771,264.969 l-149.333,96c-1.75,1.135-3.771,1.698-5.771,1.698c-1.75,0-3.521-0.438-5.104-1.302C194.125,359.49,192,355.906,192,352V160 c0-3.906,2.125-7.49,5.563-9.365c3.375-1.854,7.604-1.74,10.875,0.396l149.333,96c3.042,1.958,4.896,5.344,4.896,8.969 S360.813,263.01,357.771,264.969z"}));function z(e,t){var r=e.title,n=e.titleId,a=G(e,["title","titleId"]);return i.createElement("svg",V({x:"0px",y:"0px",viewBox:"0 0 512 512",ref:t,"aria-labelledby":n},a),r?i.createElement("title",{id:n},r):null,X)}var W=i.forwardRef(z);r.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var K=i.createElement("g",{stroke:"none"},i.createElement("path",{d:"M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M336,320 c0,8.837-7.163,16-16,16H192c-8.837,0-16-7.163-16-16V192c0-8.837,7.163-16,16-16h128c8.837,0,16,7.163,16,16V320z"}));function Z(e,t){var r=e.title,n=e.titleId,a=H(e,["title","titleId"]);return i.createElement("svg",Y({x:"0px",y:"0px",viewBox:"0 0 512 512",ref:t,"aria-labelledby":n},a),r?i.createElement("title",{id:n},r):null,K)}var q=i.forwardRef(Z);r.p;function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var J=i.createElement("g",{stroke:"none"},i.createElement("path",{d:"M12,0C5.373,0,0,5.373,0,12s5.373,12,12,12s12-5.373,12-12S18.627,0,12,0z M12,19.66 c-0.938,0-1.58-0.723-1.58-1.66c0-0.964,0.669-1.66,1.58-1.66c0.963,0,1.58,0.696,1.58,1.66C13.58,18.938,12.963,19.66,12,19.66z M12.622,13.321c-0.239,0.815-0.992,0.829-1.243,0c-0.289-0.956-1.316-4.585-1.316-6.942c0-3.11,3.891-3.125,3.891,0 C13.953,8.75,12.871,12.473,12.622,13.321z"}));function ee(e,t){var r=e.title,n=e.titleId,a=$(e,["title","titleId"]);return i.createElement("svg",Q({x:"0px",y:"0px",viewBox:"0 0 24 24",stroke:"none",ref:t,"aria-labelledby":n},a),r?i.createElement("title",{id:n},r):null,J)}var te=i.forwardRef(ee),re=(r.p,function e(t){var r,a=t.id,c=t.message,o=t.views,s=t.likes,u=t.isLoading,d=t.action,f=t.onClick,v=t.className,O=Object(i.useState)(!1),x=Object(j.a)(O,2),_=x[0],E=x[1],w=Object(l.e)(m,{id:a}),T=Object(l.e)(b,{id:a}),R=Object(i.useCallback)((function(){E(!1)}),[]),P=Object(i.useCallback)((function(){E(!0)}),[]);return Object(n.jsxs)("div",{className:g()(y.a.Preview,(r={},Object(p.a)(r,y.a.isLoading,u),Object(p.a)(r,y.a.isError,d===e.ACTIONS.ERROR),r),v),children:[Object(n.jsx)(h.a,{to:w,onClick:f,children:Object(n.jsx)("img",{className:g()(y.a.image,Object(p.a)({},y.a.isImageError,_)),src:T,alt:"",onLoad:R,onError:P})}),Object(n.jsxs)("div",{className:y.a.contentWrapper,children:[Object(n.jsx)("div",{className:y.a.action,children:d===e.ACTIONS.PLAY?Object(n.jsx)(W,{}):d===e.ACTIONS.STOP?Object(n.jsx)(q,{}):d===e.ACTIONS.SPIN?Object(n.jsx)(D,{}):d===e.ACTIONS.ERROR?Object(n.jsx)(te,{}):null}),c?Object(n.jsx)("div",{className:y.a.message,children:c}):null]}),void 0!==o||void 0!==s?Object(n.jsxs)("div",{className:g()(y.a.overlay,y.a.info),children:[void 0!==o?Object(n.jsxs)("div",{children:[o," ",Object(n.jsx)(C,{className:"icon"})]}):null,void 0!==s?Object(n.jsxs)("div",{children:[s," ",Object(n.jsx)(B,{className:"icon"})]}):null]}):null,Object(n.jsx)("div",{className:g()(y.a.overlay,y.a.spinner),children:Object(n.jsx)(D,{className:"icon"})})]})});re.ACTIONS={PLAY:"PLAY",STOP:"STOP",SPIN:"SPIN",ERROR:"ERROR"};var ne=re,ie=r(46),ae=r.n(ie),ce=function(e){var t,r,i=e.id,a=E(i),c=a.isLoading,o=a.data,s=(null===o||void 0===o||null===(t=o.Shader)||void 0===t?void 0:t.info)||{},l=s.name,u=s.username,d=s.viewed,h=s.likes;return Object(n.jsx)(ne,{id:i,message:(null===o||void 0===o||null===(r=o.Shader)||void 0===r?void 0:r.info)?Object(n.jsxs)(n.Fragment,{children:[l," ",Object(n.jsxs)("span",{className:ae.a.by,children:["by ",u]})]}):null,views:d,likes:h,isLoading:c})},oe=r(4),se=r.n(oe),le=function(){Object(i.useEffect)((function(){window.scrollTo(0,0)}),[])};function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var he=i.createElement("g",{stroke:"none"},i.createElement("path",{d:"m192.111 339.102c40.861 30.689 99.498 27.781 137.135-9.855 37.611-37.611 40.563-96.248 9.855-137.135z"}),i.createElement("path",{id:"XMLID_1080_",d:"m255 150c-58.031 0-105 46.962-105 105 0 22.982 7.338 44.834 20.898 62.889l146.99-146.99c-18.054-13.561-39.906-20.899-62.888-20.899z"}),i.createElement("path",{d:"m255 0c-140.931 0-255 114.05-255 255 0 140.931 114.05 255 255 255 140.932 0 255-114.049 255-255 0-140.931-114.049-255-255-255zm95.459 350.459c-49.226 49.227-126.815 52.457-179.726 10.02l-32.406 32.406-21.213-21.213 32.406-32.406c-19.125-23.846-29.52-53.255-29.52-84.266 0-74.611 60.38-135 135-135 31.012 0 60.42 10.395 84.267 29.52l32.406-32.406 21.213 21.213-32.406 32.406c42.362 52.818 39.303 130.404-10.021 179.726z"}));function fe(e,t){var r=e.title,n=e.titleId,a=de(e,["title","titleId"]);return i.createElement("svg",ue({viewBox:"0 0 510 510",width:512,height:512,ref:t,"aria-labelledby":n},a),r?i.createElement("title",{id:n},r):null,he)}var me=i.forwardRef(fe),be=(r.p,r(26)),pe=r.n(be),je=function(e){var t=e.Icon,r=e.children,i=e.isSmall;return Object(n.jsxs)("div",{className:g()(pe.a.BigIcon,Object(p.a)({},pe.a.isSmall,i)),children:[Object(n.jsx)(t,{className:pe.a.icon}),r]})},ve=r(35),ge=r.n(ve),Oe=function(e){var t=e.isHidden;return Object(n.jsx)(D,{className:g()(ge.a.GlobalSpinner,Object(p.a)({},ge.a.isHidden,t))})},xe=function e(){le();var t=Object(u.e)("text",Object(u.f)(u.d,"")),r=Object(j.a)(t,2),a=r[0],c=r[1],o=Object(i.useState)(a),s=Object(j.a)(o,2),l=s[0],h=s[1],f=Object(u.e)("page",Object(u.f)(u.b,1)),m=Object(j.a)(f,2),b=m[0],v=m[1],_=Object(u.e)("sort",Object(u.f)(u.d,"popular")),E=Object(j.a)(_,2),w=E[0],y=E[1],T=Object(u.e)("gpusound",u.a),R=Object(j.a)(T,2),P=R[0],S=R[1],C=Object(u.e)("microphone",u.a),A=Object(j.a)(C,2),I=A[0],N=A[1],U=Object(u.e)("webcam",u.a),B=Object(j.a)(U,2),k=B[0],L=B[1],M=Object(u.e)("multipass",u.a),F=Object(j.a)(M,2),V=F[0],G=F[1],X=Object(u.e)("soundcloud",u.a),z=Object(j.a)(X,2),W=z[0],Y=z[1],H=Object(u.e)("keyboard",u.a),K=Object(j.a)(H,2),Z=K[0],q=K[1],Q=function(e,t,r,n,i,a,c,o,s,l){return O(["shader-list",t,r,n,i,a,c,o,s,l],(function(){var u=new AbortController,d=u.signal,h=fetch("https://www.shadertoy.com/api/v1/shaders".concat(t?"/query/".concat(encodeURIComponent(t)):"","?filter=vr").concat(i?"&filter=soundoutput":"").concat(a?"&filter=soundinput":"").concat(c?"&filter=webcam":"").concat(o?"&filter=multipass":"").concat(s?"&filter=musicstream":"").concat(l?"&filter=keyboard":"","&sort=").concat(n,"&from=").concat((r-1)*e,"&num=").concat(e,"&key=").concat(x),{signal:d}).then((function(e){return e.json()}));return h.cancel=function(){return u.abort()},h}),{refetchOnWindowFocus:!1,keepPreviousData:!0})}(e.RESULTS_PER_PAGE,l,b,w,P,I,k,V,W,Z),$=Q.isLoading,J=Q.isFetching,ee=Q.isError,re=Q.isSuccess,ne=Q.resolvedData,ie=Q.refetch,ae=Object(i.useRef)(null),oe=Object(i.useCallback)((function(e){var t=e.target.value.length>0?e.target.value:void 0;c(t),ae.current&&(clearTimeout(ae.current),ae.current=null),ae.current=setTimeout((function(){h(t)}),350)}),[c]),ue=Object(i.useCallback)((function(){c(void 0),h(void 0)}),[c]),de=Object(i.useCallback)((function(e){S(!!e.target.checked||void 0)}),[S]),he=Object(i.useCallback)((function(e){N(!!e.target.checked||void 0)}),[N]),fe=Object(i.useCallback)((function(e){L(!!e.target.checked||void 0)}),[L]),be=Object(i.useCallback)((function(e){G(!!e.target.checked||void 0)}),[G]),pe=Object(i.useCallback)((function(e){Y(!!e.target.checked||void 0)}),[Y]),ve=Object(i.useCallback)((function(e){q(!!e.target.checked||void 0)}),[q]),ge=Object(i.useCallback)((function(e){y("popular"!==e.target.value?e.target.value:void 0)}),[y]),xe=(null===ne||void 0===ne?void 0:ne.Shaders)||0,_e=Math.ceil(xe/e.RESULTS_PER_PAGE)||1;Object(i.useEffect)((function(){ne&&b>_e&&v(_e,"replaceIn")}),[ne,b,_e,v]);var Ee=Object(i.useCallback)((function(){v(1)}),[v]),we=Object(i.useCallback)((function(){v((function(e){return Math.min(Math.max(1,e-1),_e)}))}),[v,_e]),ye=Object(i.useCallback)((function(){v((function(e){return Math.min(Math.max(1,e+1),_e)}))}),[v,_e]),Te=Object(i.useCallback)((function(){v(_e)}),[v,_e]);return Object(n.jsxs)("div",{className:se.a.Browser,children:[Object(n.jsx)(d.a,{children:Object(n.jsx)("title",{children:"Browser - XRderToy Viewer"})}),Object(n.jsxs)("div",{className:se.a.filters,children:[Object(n.jsxs)("div",{className:se.a.text,children:[Object(n.jsx)("input",{type:"text",value:a,onChange:oe,placeholder:"Search..."}),Object(n.jsx)("button",{onClick:ue,children:"X"})]}),Object(n.jsxs)("label",{className:se.a.sort,children:["Sort by:"," ",Object(n.jsxs)("select",{onChange:ge,value:w,children:[Object(n.jsx)("option",{value:"popular",children:"Popular"}),Object(n.jsx)("option",{value:"newest",children:"Newest"}),Object(n.jsx)("option",{value:"love",children:"Love"}),Object(n.jsx)("option",{value:"hot",children:"Hot"}),Object(n.jsx)("option",{value:"name",children:"Name"})]})]}),Object(n.jsxs)("div",{className:se.a.checks,children:[Object(n.jsxs)("label",{className:g()(se.a.filter,Object(p.a)({},se.a.checked,V)),children:[Object(n.jsx)("input",{type:"checkbox",checked:V,onChange:be}),"Multipass"]}),Object(n.jsxs)("label",{className:g()(se.a.filter,Object(p.a)({},se.a.checked,P)),children:[Object(n.jsx)("input",{type:"checkbox",checked:P,onChange:de}),"GPU Sound"]}),Object(n.jsxs)("label",{className:g()(se.a.filter,Object(p.a)({},se.a.checked,I)),children:[Object(n.jsx)("input",{type:"checkbox",checked:I,onChange:he}),"Microphone"]}),Object(n.jsxs)("label",{className:g()(se.a.filter,Object(p.a)({},se.a.checked,W)),children:[Object(n.jsx)("input",{type:"checkbox",checked:W,onChange:pe}),"SoundCloud"]}),Object(n.jsxs)("label",{className:g()(se.a.filter,Object(p.a)({},se.a.checked,k)),children:[Object(n.jsx)("input",{type:"checkbox",checked:k,onChange:fe}),"Webcam"]}),Object(n.jsxs)("label",{className:g()(se.a.filter,Object(p.a)({},se.a.checked,Z)),children:[Object(n.jsx)("input",{type:"checkbox",checked:Z,onChange:ve}),"Keyboard"]})]}),re?Object(n.jsxs)("div",{className:se.a.pagination,children:[Object(n.jsx)("button",{onClick:Ee,children:"<<"}),Object(n.jsx)("button",{onClick:we,children:"<"}),"Page ",b," of ",_e," (",xe," shaders)",Object(n.jsx)("button",{onClick:ye,children:">"}),Object(n.jsx)("button",{onClick:Te,children:">>"})]}):null]}),Object(n.jsx)("div",{className:se.a.listWrapper,children:ee?Object(n.jsxs)(je,{Icon:te,isSmall:!0,children:[Object(n.jsx)("h1",{children:"Error loading shaders list"}),Object(n.jsx)("button",{onClick:ie,children:"Retry"})]}):$?Object(n.jsx)(je,{Icon:D,isSmall:!0,children:Object(n.jsx)("h1",{children:"Loading shaders..."})}):0===ne.Shaders?Object(n.jsx)(je,{Icon:me,isSmall:!0,children:Object(n.jsx)("h1",{children:"No shaders found matching that criteria"})}):Object(n.jsx)("ul",{className:se.a.resultList,children:ne.Results.map((function(e){return Object(n.jsx)("li",{className:se.a.item,children:Object(n.jsx)("div",{className:se.a.inside,children:Object(n.jsx)(ce,{id:e})})},e)}))})}),Object(n.jsx)(Oe,{isHidden:!J||$})]})};xe.RESULTS_PER_PAGE=12;var _e=xe,Ee=r(16),we=r.n(Ee),ye=r(18),Te=r(36),Re=function(e){var t=e.shaderSource,r=e.inputs,n=e.isLowEnd,i=e.isBuffer;return"#version 300 es\n#ifdef GL_ES\nprecision highp float;\nprecision highp int;\nprecision mediump sampler3D;\n#endif\n\n#define HW_PERFORMANCE ".concat(n?1:0,"\n\nuniform vec4 uViewport;\n\nuniform vec3 iResolution;\nuniform float iTime;\nuniform float iChannelTime[4];\nuniform vec4 iMouse;\nuniform vec4 iDate;\nuniform float iSampleRate;\nuniform vec3 iChannelResolution[4];\nuniform int iFrame;\nuniform float iTimeDelta;\nuniform float iFrameRate;\n\n").concat(r.map((function(e){var t,r=null===e||void 0===e||null===(t=e.texture)||void 0===t?void 0:t.samplerType,n=null===e||void 0===e?void 0:e.channel;return"uniform ".concat(r," iChannel").concat(n,";\n\nuniform struct {\n  ").concat(r," sampler;\n  vec3 size;\n  float time;\n  int loaded;\n} iCh").concat(n,";")})).join("\n\n"),"\n\nvoid mainImage(out vec4 c, in vec2 f);\nvoid mainVR(out vec4 c, in vec2 f, in vec3 ro, in vec3 rd);\nvoid st_assert(bool cond);\nvoid st_assert(bool cond, int v);\n\n").concat(t,"\n\nin vec3 vZNearPos;\nin vec3 vRayOrig;\n\nout vec4 fragColor;\n\nvoid st_assert(bool cond, int v) {\n  if (!cond) {\n    if (v == 0) {\n      fragColor.x = -1.0;\n    }\n    else if (v == 1) {\n      fragColor.y=-1.0;\n    }\n    else if (v == 2) {\n      fragColor.z = -1.0;\n    }\n    else {\n      fragColor.w = -1.0;\n    }\n  }\n}\n\nvoid st_assert(bool cond) {\n  if (!cond) {\n    fragColor.x = -1.0;\n  }\n}\n\nvoid main() {\n  vec3 rayDir = normalize(vZNearPos - vRayOrig);\n  vec2 fragCoord = gl_FragCoord.xy * gl_FragCoord.w;\n  vec2 viewFragCoord = fragCoord - uViewport.xy;\n\n  vec4 color = vec4(0.0, 0.0, 0.0, 1.0);\n  mainVR(color, viewFragCoord, vRayOrig, rayDir);\n  ").concat(i?"":"color.w = 1.0;","\n  fragColor = color;\n}\n")},Pe=function(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var i="An error occurred compiling the shader: "+e.getShaderInfoLog(n);throw e.deleteShader(n),new Error(i)}return n},Se=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|SamsungBrowser|OculusBrowser|Mobile VR/i.test(navigator.userAgent)},Ce=function(e){return new URL(e,"https://www.shadertoy.com").toString()},Ae=function(e,t,r,n){var i,a=function(e,t){var r,n=e.createProgram(),i=Object(ye.a)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;e.attachShader(n,a)}}catch(o){i.e(o)}finally{i.f()}if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var c="Unable to initialize the shader program: "+e.getProgramInfoLog(n);throw e.deleteProgram(n),new Error(c)}return n}(e,[Pe(e,e.VERTEX_SHADER,"#version 300 es\n#ifdef GL_ES\nprecision highp float;\nprecision highp int;\nprecision mediump sampler3D;\n#endif\n\nuniform mat4 uInvViewMatrix;\nuniform mat4 uInvProjMatrix;\n\nin vec2 aVertexPosition;\n\nout vec3 vZNearPos;\nout vec3 vRayOrig;\n\nvoid main() {\n  // Vertices in the near plane in NDC\n  gl_Position = vec4(aVertexPosition.xy, -1.0, 1.0);\n\n  // Vertices in world-space\n  vec4 vZNearPosW = uInvViewMatrix * uInvProjMatrix * gl_Position;\n  vZNearPos = vZNearPosW.xyz / vZNearPosW.w;\n\n  // Ray origin in world-space\n  vec4 rayOrigW = uInvViewMatrix * vec4(0, 0, 0, 1);\n  vRayOrig = rayOrigW.xyz / rayOrigW.w;\n}\n"),Pe(e,e.FRAGMENT_SHADER,Re({shaderSource:r,isLowEnd:n||Se(),isBuffer:!1,inputs:t}))]),c=e.getAttribLocation(a,"aVertexPosition"),o=e.getUniformLocation(a,"uInvViewMatrix"),s=e.getUniformLocation(a,"uInvProjMatrix"),l=e.getUniformLocation(a,"uViewport"),u=e.getUniformLocation(a,"iResolution"),d=e.getUniformLocation(a,"iTime"),h=e.getUniformLocation(a,"iChannelTime"),f=e.getUniformLocation(a,"iMouse"),m=e.getUniformLocation(a,"iDate"),b=e.getUniformLocation(a,"iSampleRate"),p=e.getUniformLocation(a,"iChannelResolution"),j=e.getUniformLocation(a,"iFrame"),v=e.getUniformLocation(a,"iTimeDelta"),g=e.getUniformLocation(a,"iFrameRate"),O=[],x=[],_=Object(ye.a)(t);try{for(_.s();!(i=_.n()).done;){var E=i.value.channel;O[E]=e.getUniformLocation(a,"iChannel".concat(E)),x[E]={sampler:e.getUniformLocation(a,"iCh".concat(E,".size")),size:e.getUniformLocation(a,"iCh".concat(E,".size")),time:e.getUniformLocation(a,"iCh".concat(E,".time")),loaded:e.getUniformLocation(a,"iCh".concat(E,".loaded"))}}}catch(w){_.e(w)}finally{_.f()}return{program:a,aVertexPosition:c,uInvViewMatrix:o,uInvProjMatrix:s,uViewport:l,iResolution:u,iTime:d,iChannelTime:h,iMouse:f,iDate:m,iSampleRate:b,iChannelResolution:p,iFrame:j,iTimeDelta:v,iFrameRate:g,iChannel:O,iCh:x}},Ie=[1,1,-1,1,-1,-1,1,-1],Ne=[0,1,2,0,2,3],Ue=r(39),Be=r(13),ke=r(15),Le=function(){function e(t){Object(Be.a)(this,e),this.fpsRate=t,this._initialized=!1}return Object(ke.a)(e,[{key:"start",value:function(){this._initialized||(this._lastFrameTime=this._lastFPSTime=this._start=performance.now(),this._fps=0,this._totalFrames=0,this._fpsFrames=0,this._initialized=!0)}},{key:"end",value:function(){var e=performance.now();this._fpsFrames++,this._totalFrames++;var t=e-this._lastFPSTime;t>=this.fpsRate&&(this._fps=this._fpsFrames/t*1e3,this._lastFPSTime=e,this._fpsFrames=0),this._lastFrameTime=e}},{key:"iTime",get:function(){return(performance.now()-this._start)/1e3}},{key:"iTimeDelta",get:function(){return(performance.now()-this._lastFrameTime)/1e3}},{key:"iFrame",get:function(){return this._totalFrames}},{key:"iFrameRate",get:function(){return this._fps}},{key:"iDate",get:function(){var e=new Date;return[e.getFullYear(),e.getMonth(),e.getDate(),60*e.getHours()*60+60*e.getMinutes()+e.getSeconds()]}}]),e}(),Me=function(){function e(){Object(Be.a)(this,e),this._x=0,this._y=0,this._z=-0,this._w=-0}return Object(ke.a)(e,[{key:"click",value:function(e,t){this._x=e,this._y=t,this._z=e,this._w=t}},{key:"move",value:function(e,t){this._x=e,this._y=t}},{key:"release",value:function(e,t){this._x=e,this._y=t,this._z=-this.z,this._w=-this.w}},{key:"iMouse",get:function(){return[this._x,this._y,this._z,this._w]}}]),e}(),Fe=r(38),De=new Uint8Array([255,0,255,255]),Ve=new Uint8Array([255,0,0,255]),Ge=new Uint8Array([0,255,0,255]),Xe=new Uint8Array([0,0,255,255]),ze=new Uint8Array([255,255,255,255]),We=new Uint8Array([255,255,0,255]),Ye=function(e,t,r){e.texImage2D(t,0,e.RGBA8,1,1,0,e.RGBA,e.UNSIGNED_BYTE,r)},He={0:"xPos",1:"xNeg",2:"yPos",3:"yNeg",4:"zPos",5:"zNeg"},Ke=function(){function e(t,r){var n=this,i=r.src,a=r.sampler,c=a.filter,o=a.wrap,s=a.vflip,l=a.srgb,u=a.internal;if(Object(Be.a)(this,e),this.samplerType="samplerCube",this.target=WebGL2RenderingContext.TEXTURE_CUBE_MAP,this.resolution=[0,0,0],this.time=0,this.loaded=!1,"nearest"!==c&&"linear"!==c&&"mipmap"!==c)throw new Error('Unexpected filter "'.concat(c,'" for TextureCube'));if("clamp"!==o)throw new Error('Unexpected wrap "'.concat(o,'" for TextureCube'));if("true"!==s&&"false"!==s)throw new Error('Unexpected vflip "'.concat(s,'" for TextureCube'));if("false"!==l)throw new Error('Unexpected srgb "'.concat(l,'" for TextureCube'));if("byte"!==u)throw new Error('Unexpected internal "'.concat(u,'" for TextureCube'));this.gl=t,this.id=t.createTexture(),this.magFilter="nearest"===c?t.NEAREST:"linear"===c||"mipmap"===c?t.LINEAR:null,this.minFilter="nearest"===c?t.NEAREST:"linear"===c?t.LINEAR:"mipmap"===c?t.LINEAR_MIPMAP_LINEAR:null,this.vflip="true"===s,t.bindTexture(t.TEXTURE_CUBE_MAP,this.id),Ye(t,t.TEXTURE_CUBE_MAP_POSITIVE_X,De),Ye(t,t.TEXTURE_CUBE_MAP_NEGATIVE_X,Ve),Ye(t,t.TEXTURE_CUBE_MAP_POSITIVE_Y,Ge),Ye(t,t.TEXTURE_CUBE_MAP_NEGATIVE_Y,Xe),Ye(t,t.TEXTURE_CUBE_MAP_POSITIVE_Z,ze),Ye(t,t.TEXTURE_CUBE_MAP_NEGATIVE_Z,We);var d=!1,h=0;this.images={};for(var f=function(e){var t=new Image,r=e;t.onload=function(){if(!d&&(h++,n.images[He[r]]=t,6===h)){n.initFromImages();var e=Object.values(n.images);n.resolution=[Math.max.apply(Math,Object(Fe.a)(e.map((function(e){return e.width})))),Math.max.apply(Math,Object(Fe.a)(e.map((function(e){return e.height})))),0],n.loaded=!0}},t.onerror=function(){d||(d=!0,t.src="",alert("Error loading TextureCube input"))};var a=i.lastIndexOf(".");t.src=0===e?i:"".concat(i.slice(0,a),"_").concat(e,".").concat(i.slice(a+1))},m=0;m<6;m++)f(m)}return Object(ke.a)(e,[{key:"initFromImages",value:function(){var e=this.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,this.id),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.vflip),e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X,0,e.RGBA8,e.RGBA,e.UNSIGNED_BYTE,this.images.xPos),e.texImage2D(e.TEXTURE_CUBE_MAP_NEGATIVE_X,0,e.RGBA8,e.RGBA,e.UNSIGNED_BYTE,this.images.xNeg),e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_Y,0,e.RGBA8,e.RGBA,e.UNSIGNED_BYTE,this.vflip?this.images.yNeg:this.images.yPos),e.texImage2D(e.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,e.RGBA8,e.RGBA,e.UNSIGNED_BYTE,this.vflip?this.images.yPos:this.images.yNeg),e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_Z,0,e.RGBA8,e.RGBA,e.UNSIGNED_BYTE,this.images.zPos),e.texImage2D(e.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,e.RGBA8,e.RGBA,e.UNSIGNED_BYTE,this.images.zNeg),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.magFilter),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.minFilter),this.minFilter===e.LINEAR_MIPMAP_LINEAR&&e.generateMipmap(e.TEXTURE_CUBE_MAP),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.bindTexture(e.TEXTURE_CUBE_MAP,null)}},{key:"update",value:function(){}}]),e}(),Ze=r(25),qe=r(24),Qe=function(){function e(t,r){var n=r.sampler,i=n.filter,a=n.wrap,c=n.vflip,o=n.srgb,s=n.internal;if(Object(Be.a)(this,e),this.samplerType="sampler2D",this.target=WebGL2RenderingContext.TEXTURE_2D,this.resolution=[0,0,0],this.time=0,this.loaded=!1,"nearest"!==i&&"linear"!==i&&"mipmap"!==i)throw new Error('Unexpected filter "'.concat(i,'" for Texture2D'));if("clamp"!==a&&"repeat"!==a)throw new Error('Unexpected wrap "'.concat(a,'" for Texture2D'));if("true"!==c&&"false"!==c)throw new Error('Unexpected vflip "'.concat(c,'" for Texture2D'));if("false"!==o)throw new Error('Unexpected srgb "'.concat(o,'" for Texture2D'));if("byte"!==s)throw new Error('Unexpected internal "'.concat(s,'" for Texture2D'));this.gl=t,this.id=t.createTexture(),this.magFilter="nearest"===i?t.NEAREST:"linear"===i||"mipmap"===i?t.LINEAR:null,this.minFilter="nearest"===i?t.NEAREST:"linear"===i?t.LINEAR:"mipmap"===i?t.LINEAR_MIPMAP_LINEAR:null,this.wrap="clamp"===a?t.CLAMP_TO_EDGE:"repeat"===a?t.REPEAT:null,this.vflip="true"===c,t.bindTexture(t.TEXTURE_2D,this.id),t.texImage2D(t.TEXTURE_2D,0,t.RGBA8,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,0,255,255]))}return Object(ke.a)(e,[{key:"initFrom",value:function(e){var t=this.gl;t.bindTexture(t.TEXTURE_2D,this.id),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.vflip),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA8,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.wrap),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.wrap),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this.magFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this.minFilter),this.minFilter===t.LINEAR_MIPMAP_LINEAR&&t.generateMipmap(t.TEXTURE_2D),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.bindTexture(t.TEXTURE_2D,null)}},{key:"updateFrom",value:function(e){var t=this.gl;t.bindTexture(t.TEXTURE_2D,this.id),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,this.vflip),t.texImage2D(t.TEXTURE_2D,0,t.RGBA8,t.RGBA,t.UNSIGNED_BYTE,e),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.bindTexture(t.TEXTURE_2D,null)}},{key:"update",value:function(){}}]),e}(),$e=function(e){Object(Ze.a)(r,e);var t=Object(qe.a)(r);function r(e,n){var i;return Object(Be.a)(this,r),(i=t.call(this,e,n)).src=n.src,i.image=new Image,i.image.onload=function(){i.initFrom(i.image),i.resolution=[i.image.width,i.image.height],i.loaded=!0},i.image.onerror=function(){alert("Error loading input")},i.image.src=n.src,i}return r}(Qe),Je=function(e){Object(Ze.a)(r,e);var t=Object(qe.a)(r);function r(e,n){var i;Object(Be.a)(this,r),(i=t.call(this,e,n)).src=n.src,i.video=document.createElement("video"),i.video.autoplay=!0,i.video.muted=!0,i.video.loop=!0;var a=!1,c=!1;i.video.addEventListener("playing",(function(){a=!0,o()}),!0),i.video.addEventListener("timeupdate",(function(){c=!0,o()}),!0),i.video.onerror=function(){alert("Error loading input")},i.video.src=n.src,i.video.play();var o=function(){a&&c&&(i.initFrom(i.video),i.resolution=[i.image.videoWidth,i.image.videoHeight],i.loaded=!0)};return i}return Object(ke.a)(r,[{key:"update",value:function(){this.loaded&&this.updateFrom(this.video)}}]),r}(Qe),et=function(e,t){return function(r){if(e.length>1)throw new Error("Multipass not supported");var n=e[0].inputs.map((function(t,n){if("texture"!==t.ctype&&"video"!==t.ctype&&"cubemap"!==t.ctype)throw new Error("Unexpected ctype === ".concat(t.ctype));if(t.channel<0||t.channel>3)throw new Error("Unexpected channel === ".concat(t.channel));if(e[0].inputs.slice(0,n).map((function(e){return e.channel})).includes(t.channel))throw new Error("Repeated channel ".concat(t.channel," in input ").concat(n));return Object(Te.a)(Object(Te.a)({},t),{},{texture:"texture"===t.ctype?new $e(r,t):"video"===t.ctype?new Je(r,t):"cubemap"===t.ctype?new Ke(r,t):null})})),i=e[0].code,a=Ae(r,n,i,t),c=function(e){var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array(Ie),e.STATIC_DRAW);var r=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(Ne),e.STATIC_DRAW),{bind:function(n){e.bindBuffer(e.ARRAY_BUFFER,t),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(n),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)},draw:function(){e.drawElements(e.TRIANGLES,Ne.length,e.UNSIGNED_SHORT,0)}}}(r),o=new Le(500),s=new Me;return function(e,t,i){o.start(),o.iFrame%60===0&&console.log(e,t,i);var l=t.getViewerPose(i);if(l){var u=t.session.renderState.baseLayer;r.bindFramebuffer(r.FRAMEBUFFER,u.framebuffer);var d,h=Object(ye.a)(l.views);try{for(h.s();!(d=h.n()).done;){var f=d.value,m=u.getViewport(f);r.viewport(m.x,m.y,m.width,m.height);var b=f.transform.matrix,p=Ue.a.invert(Ue.a.create(),f.projectionMatrix);r.useProgram(a.program),c.bind(a.aVertexPosition),r.uniformMatrix4fv(a.uInvViewMatrix,!1,b),r.uniformMatrix4fv(a.uInvProjMatrix,!1,p),r.uniform4fv(a.uViewport,[m.x,m.y,m.width,m.height]),r.uniform3f(a.iResolution,m.width,m.height,1),r.uniform1f(a.iTime,o.iTime),r.uniform4fv(a.iMouse,s.iMouse),r.uniform4fv(a.iDate,o.iDate),r.uniform1i(a.iFrame,o.iFrame),r.uniform1f(a.iTimeDelta,o.iTimeDelta),r.uniform1f(a.iFrameRate,o.iFrameRate);var j,v=[0,0,0,0],g=[0,0,0,0,0,0,0,0,0,0,0,0],O=Object(ye.a)(n);try{for(O.s();!(j=O.n()).done;){var x=j.value;x.texture.update();var _=x.channel,E=x.texture.loaded,w=x.texture.resolution,y=x.texture.time;r.activeTexture(r["TEXTURE".concat(_)]),r.bindTexture(x.texture.target,x.texture.id),r.uniform1i(a.iChannel[_],_),r.uniform1i(a.iCh[_].sampler,_),r.uniform3fv(a.iCh[_].size,w),r.uniform1f(a.iCh[_].time,y),r.uniform1i(a.iCh[_].loaded,E?1:0),E&&(g[3*_+0]=w[0],g[3*_+1]=w[1],g[3*_+2]=w[2],v[_]=y)}}catch(T){O.e(T)}finally{O.f()}r.uniform3fv(a.iChannelResolution,g),r.uniform1fv(a.iChannelTime,v),c.draw()}}catch(T){h.e(T)}finally{h.f()}}o.end()}}},tt=r(47),rt=r(49),nt=r.n(rt),it=function(e){var t=e.id,r=e.shader,a=e.forceLowEnd,c=Object(i.useMemo)((function(){return r.renderpass?et(r.renderpass,a):null}),[r.renderpass,a]),o=Object(tt.a)(c),s=o.isAvailable,l=o.isSupported,u=o.isStarting,d=o.isRunning,h=o.start,f=o.stop;return Object(i.useEffect)((function(){var e=function(e){"Escape"===e.key&&f()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[f]),Object(n.jsx)(ne,{id:t,views:r.info.viewed,likes:r.info.likes,message:s?l?void 0:"WebXR Immersive VR is not supported":"WebXR is not available",className:nt.a.ViewerButton,action:s&&l?u?ne.ACTIONS.SPIN:d?ne.ACTIONS.STOP:ne.ACTIONS.PLAY:ne.ACTIONS.ERROR,onClick:s&&l?u?void 0:d?f:h:void 0})};it.defaultProps={forceLowEnd:!1};var at=it;function ct(e,t){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/(\[url=)javascript:?(.*?)(\])(.*?)(\[\/url\])/gi,"")).replace(/(\[url\])javascript:?(.*?)(\[\/url\])/gi,"")).replace(/(\[img\])javascript:?(.*?)(\[\/img\])/gi,"")).replace(/(\[url=)(.*?)(\])(.*?)(\[\/url\])/gi,(function(e,t,r,n,i){return'<a href="'.concat(Ce(r),'" class="regular" target="_blank">').concat(i,"</a>")}))).replace(/(\[url\])(.*?)(\[\/url\])/gi,(function(e,t,r){return'<a href="'.concat(Ce(r),'" class="regular" target="_blank">').concat(r,"</a>")}))).replace(/(:\))/g,'<img src="https://www.shadertoy.com/img/emoticonHappy.png">')).replace(/(:\()/g,'<img src="https://www.shadertoy.com/img/emoticonSad.png">')).replace(/(:D)/g,'<img src="https://www.shadertoy.com/img/emoticonLaugh.png">')).replace(/(:love:)/gi,'<img src="https://www.shadertoy.com/img/emoticonLove.png">')).replace(/(:octopus:)/gi,'<img src="https://www.shadertoy.com/img/emoticonOctopus.png">')).replace(/(:octopusballoon:)/gi,'<img src="https://www.shadertoy.com/img/emoticonOctopusBalloon.png">')).replace(/(:alpha:)/gi,"&#945;")).replace(/(:beta:)/gi,"&#946;")).replace(/(:delta:)/gi,"&#9169;")).replace(/(:epsilon:)/gi,"&#949;")).replace(/(:nabla:)/gi,"&#8711;")).replace(/(:square:)/gi,"&#178;")).replace(/(:sube:)/gi,"&#179;")).replace(/(:limit:)/gi,"&#8784;")).replace(/(\[b\])([.\s\S]*?)(\[\/b\])/gi,"<strong>$2</strong>")).replace(/(\[i\])([.\s\S]*?)(\[\/i\])/gi,"<em>$2</em>")).replace(/(\[u\])([.\s\S]*?)(\[\/u\])/gi,"<u>$2</u>")).replace(/(\[ul\])([.\s\S]*?)(\[\/ul\])/gi,"<ul>$2</ul>")).replace(/(\[li\])([.\s\S]*?)(\[\/li\])/gi,"<li>$2</li>")).replace(/(\[code\])([.\s\S]*?)(\[\/code\])/gi,"<pre>$2</pre>"),t&&(e=(e=e.replace(/(\[img\])(.*?)(\[\/img\])/gi,(function(e,t,r){var n=Ce(r);return'<a href="'.concat(n,'"><img src="').concat(n,'" style="max-width:100%;"/></a>')}))).replace(/(\[video\])(?:http|https|)(?::\/\/|)(?:www.|)(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=|\/ytscreeningroom\?v=|\/feeds\/api\/videos\/|\/user\S*[^\w\-\s]|\S*[^\w\-\s]))([\w-]{11})(.*?)(\[\/video\])/gi,'<iframe width="100%" height="360" src="https://www.youtube.com/embed/$2?hd=1" frameborder="0" allowfullscreen></iframe>')),e}var ot=r(50),st=r.n(ot),lt=function(e){var t=e.string,r=e.allowMultimedia;return Object(n.jsx)("div",{className:st.a.BBCode,dangerouslySetInnerHTML:{__html:ct(t,r)}})};lt.defaultProps={allowMultimedia:!1};var ut=lt,dt=function(){le();var e=Object(l.g)().id,t=E(e),r=t.isLoading,a=t.isFetching,c=t.isError,o=t.error,s=t.data,u=t.refetch,p=Object(i.useState)(Se()),v=Object(j.a)(p,2),g=v[0],O=v[1],x=Object(i.useCallback)((function(e){O(!!e.target.checked)}),[]),_=Object(l.e)(b,{id:e});if(r)return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(d.a,{children:[Object(n.jsxs)("title",{children:[e," - XRderToy Viewer"]}),Object(n.jsx)("meta",{property:"og:title",content:"".concat(e," - XRderToy Viewer")}),Object(n.jsx)("meta",{property:"og:image",content:_})]}),Object(n.jsx)(je,{Icon:D,isSmall:!0,children:Object(n.jsxs)("h1",{children:["Loading shader ",e,"..."]})})]});if(c||s.Error){var w=(null===o||void 0===o?void 0:o.message)||(null===s||void 0===s?void 0:s.Error);return Object(n.jsxs)(je,{Icon:te,isSmall:!0,children:[Object(n.jsxs)(d.a,{children:[Object(n.jsxs)("title",{children:[e," - XRderToy Viewer"]}),Object(n.jsx)("meta",{property:"og:title",content:"".concat(e," - XRderToy Viewer")}),Object(n.jsx)("meta",{property:"og:image",content:_})]}),Object(n.jsxs)("h1",{children:["Error loading shader ",e]}),w?Object(n.jsx)("p",{children:w}):null,Object(n.jsx)("button",{onClick:u,children:"Retry"})]})}var y,T=(null===s||void 0===s?void 0:s.Shader).info,R=Object(l.e)(m,{id:e}),P=Object(l.e)("https://www.shadertoy.com/view/:id",{id:e}),S=T.username?Object(l.e)("https://www.shadertoy.com/user/:username",{username:T.username}):null,C=T.date?new Date(1e3*T.date):null,A="".concat(C.getFullYear(),"-").concat((C.getMonth()+1).toString().padStart(2,"0"),"-").concat(C.getDate().toString().padStart(2,"0")),I="".concat(C.getHours().toString().padStart(2,"0"),":").concat(C.getMinutes().toString().padStart(2,"0")),N="".concat(A," ").concat(I),U={vr:!!(1&(y=T.flags)),webcam:!!(2&y),microphone:!!(4&y),gpuSound:!!(8&y),keyboard:!!(16&y),multipass:!!(32&y),soundCloud:!!(64&y)};return Object(n.jsxs)("div",{className:we.a.Viewer,children:[Object(n.jsxs)(d.a,{children:[Object(n.jsxs)("title",{children:[T.name," by ",T.username," - XRderToy Viewer"]}),Object(n.jsx)("meta",{property:"og:title",content:"".concat(T.name," by ").concat(T.username," - XRderToy Viewer")}),Object(n.jsx)("meta",{property:"og:image",content:_})]}),Object(n.jsxs)("div",{className:we.a.main,children:[Object(n.jsx)("header",{className:we.a.header,children:Object(n.jsxs)("h2",{children:[Object(n.jsx)(h.a,{to:R,children:T.name})," ",Object(n.jsxs)("small",{children:["by"," ",Object(n.jsx)(h.a,{to:"".concat(f,"?text=").concat(T.username),children:T.username})]})]})}),Object(n.jsx)(at,{id:e,shader:null===s||void 0===s?void 0:s.Shader,forceLowEnd:g}),Object(n.jsxs)("label",{title:"Some shaders use this flag to enable lighter rendering.",children:[Object(n.jsx)("input",{type:"checkbox",checked:g,onChange:x,disabled:Se()})," ",Object(n.jsx)("span",{className:we.a.hasTitle,children:"Performance flag"})]})]}),Object(n.jsx)("div",{className:we.a.info,children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)("span",{className:we.a.hasTitle,title:N,children:A})}),Object(n.jsxs)("li",{children:["On ShaderToy: ",Object(n.jsx)("a",{href:P,children:T.name}),","," ",Object(n.jsx)("a",{href:S,children:T.username})]}),Object(n.jsxs)("li",{children:["Tags:"," ",Object(n.jsx)("ul",{className:we.a.commaList,children:T.tags.map((function(e,t){return Object(n.jsx)("li",{children:Object(n.jsx)(h.a,{to:"".concat(f,"?text=").concat(e),children:e})},e)}))})]}),Object(n.jsxs)("li",{children:["Flags:"," ",Object(n.jsxs)("ul",{className:we.a.commaList,children:[U.vr&&Object(n.jsx)("li",{children:Object(n.jsx)(h.a,{to:f,children:"VR"})}),U.multipass&&Object(n.jsx)("li",{children:Object(n.jsx)(h.a,{to:"".concat(f,"?multipass=1"),children:"Multipass"})}),U.gpuSound&&Object(n.jsx)("li",{children:Object(n.jsx)(h.a,{to:"".concat(f,"?gpusound=1"),children:"GPU Sound"})}),U.microphone&&Object(n.jsx)("li",{children:Object(n.jsx)(h.a,{to:"".concat(f,"?microphone=1"),children:"Microphone"})}),U.soundCloud&&Object(n.jsx)("li",{children:Object(n.jsx)(h.a,{to:"".concat(f,"?soundcloud=1"),children:"SoundCloud"})}),U.webcam&&Object(n.jsx)("li",{children:Object(n.jsx)(h.a,{to:"".concat(f,"?webcam=1"),children:"Webcam"})}),U.keyboard&&Object(n.jsx)("li",{children:Object(n.jsx)(h.a,{to:"".concat(f,"?keyboard=1"),children:"Keyboard"})})]})]}),Object(n.jsxs)("li",{children:["Description: ",Object(n.jsx)(ut,{string:T.description})]})]})}),Object(n.jsx)("div",{className:we.a.side,children:Object(n.jsxs)("details",{children:[Object(n.jsx)("summary",{children:"Debug"}),Object(n.jsx)("pre",{children:JSON.stringify(s,null,4)})]})}),Object(n.jsx)(Oe,{isHidden:!a||r})]})},ht=function(){return le(),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(d.a,{children:Object(n.jsx)("title",{children:"Not found - XRderToy Viewer"})}),Object(n.jsxs)(je,{Icon:te,children:[Object(n.jsx)("h1",{children:"Error 404"}),Object(n.jsx)(h.a,{to:f,children:"Go back to browser"})]})]})},ft=r(22),mt=r.n(ft),bt=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(d.a,{children:[Object(n.jsx)("title",{children:"XRderToy Viewer"}),Object(n.jsx)("meta",{property:"og:title",content:"XRderToy Viewer"}),Object(n.jsx)("meta",{property:"og:image",content:"https://www.shadertoy.com/img/logo.png"})]}),Object(n.jsxs)("div",{className:mt.a.App,children:[Object(n.jsx)("header",{className:mt.a.header,children:Object(n.jsx)("h1",{children:Object(n.jsx)(h.a,{to:"/",children:"XRderToy Viewer"})})}),Object(n.jsx)("main",{className:mt.a.main,children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",children:Object(n.jsx)(_e,{})}),Object(n.jsx)(l.a,{exact:!0,path:m,children:Object(n.jsx)(dt,{})}),Object(n.jsx)(l.a,{children:Object(n.jsx)(ht,{})})]})}),Object(n.jsx)("footer",{className:mt.a.footer,children:Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:["Made by ",Object(n.jsx)("a",{href:"https://github.com/alvaro-cuesta/",children:"\xc1lvaro Cuesta"})]}),Object(n.jsxs)("li",{children:["Powered by ",Object(n.jsx)("a",{href:"https://www.shadertoy.com/",children:"ShaderToy.com"})," API"]})]})})]})]})},pt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,83)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),i(e),a(e),c(e)}))},jt=r(10),vt=Object(jt.a)(),gt=vt.push,Ot=vt.location;vt.listen((function(e){Ot=e})),vt.push=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!==Ot&&e===Ot.pathname+Ot.search+Ot.hash&&JSON.stringify(t)===JSON.stringify(Ot.state||{})||gt(e,t)};var xt=new s.QueryCache;o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(d.b,{children:Object(n.jsx)(s.ReactQueryCacheProvider,{queryCache:xt,children:Object(n.jsx)(l.b,{history:vt,children:Object(n.jsx)(u.c,{ReactRouterRoute:l.a,children:Object(n.jsx)(bt,{})})})})})}),document.getElementById("root")),pt()}},[[82,1,2]]]);
//# sourceMappingURL=main.2fe355ca.chunk.js.map